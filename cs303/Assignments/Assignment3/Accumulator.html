<!DOCTYPE html>
<html>

<head>
    <!-- add mocha css, to show results -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.css">
    <!-- add mocha framework code -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.js"></script>
    <script>
        mocha.setup('bdd'); // minimal setup
    </script>
    <!-- add chai -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/3.5.0/chai.js"></script>
    <script>
        // chai has a lot of stuff, let's make assert global
        let assert = chai.assert;
    </script> 
    <style>
        #c1 {margin-left:60px;}
   
    </style>

</head>

<body>

    <!-- <script src="./Objects.js">    </script> -->




    <!-- the script with tests (describe, it...) -->
    <!-- <script src="test.js"></script> -->
    <!-- <script src="./p.js"></script> -->


    <div id="c1"><pre id="jsText">
  /*  Create new Accumulator and Use Mocha to Test
  *
  *   Create a constructor function Accumulator(startingValue).
  *
  *   Object that it creates should:
  *
  *   Store the “current value” in the property value. The starting value is set to the argument of the constructor startingValue.
  *   The read() method should use prompt to read a new number and add it to value.
  *   In other words, the value property is the sum of all user-entered values with the initial value startingValue.
  */
      
  function Accumulator(startingValue) {
  
    this.sum = startingValue || 0;
  
    this.read = function (num) {
      // Switch from Prompt to Argment for Mocha Testing
      //let num = Number(prompt("Please Enter Numer to Add to Total"));
      num = Number(num);
      if (num) this.sum+= num;
    } 
  
    this.show = function () {
      return this.sum;
    }
  
  }


  // Testing Conditions
  describe("Accumulator Function Tests", function() {

<!-- beforeEach(function() {
      sinon.stub(window, "prompt")
    });
  
    afterEach(function() {
      prompt.restore();
    }); 
-->
    var accum;

    it("Starting Condition",function() {
      accum = new Accumulator();
      assert.equal(accum.show(),0);
    });

    it("Add 5",function() {
      accum.read(5);
      assert.equal(accum.show(),5);
    });

    it("Add 15",function() {
      accum.read(15);
      assert.equal(accum.show(),20);
    });


    it("Subtract 10",function() {
      accum.read(-10);
      assert.equal(accum.show(),10);
    });

  });

    </pre></div>

    <!-- the element with id="mocha" will contain test results -->
    <div id="mocha"></div>

    <!-- run tests! -->



    <script>
        let script = document.createElement("script");
        script.innerHTML = document.getElementById("jsText").innerText;
        document.head.appendChild(script);
    </script>

 
</body>

<script>
  mocha.run();
</script>